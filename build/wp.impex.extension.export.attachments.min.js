var wp;((((wp||={}).impex||={}).extension||={}).export||={}).attachments=(()=>{var _=Object.create;var p=Object.defineProperty;var k=Object.getOwnPropertyDescriptor;var F=Object.getOwnPropertyNames;var A=Object.getPrototypeOf,E=Object.prototype.hasOwnProperty;var r=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var H=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of F(t))!E.call(e,a)&&a!==n&&p(e,a,{get:()=>t[a],enumerable:!(o=k(t,a))||o.enumerable});return e};var i=(e,t,n)=>(n=e!=null?_(A(e)):{},H(t||!e||!e.__esModule?p(n,"default",{value:e,enumerable:!0}):n,e));var c=r((L,s)=>{s.exports=window.wp.hooks});var l=r((M,f)=>{f.exports=wp.impex.debug});var d=r((N,h)=>{h.exports=wp.impex.filters});var w=i(c(),1),u=i(l(),1),m=i(d(),1),C=u.default.default("wp.impex.attachments");C("huhu!");w.default.addFilter(m.default.SLICE_REST_UNMARSHAL,m.default.NAMESPACE,async function(e,t,n,o){if(t.tag==="attachment"&&t.meta.entity==="attachment"&&t.type==="resource"){let a=t._links?.self;if(a)for(let b of a){let x=b.href,g=`slice-${n.toString().padStart(4,"0")}-attachment.blob`;await fetch(x).then(async y=>{attachmentFileHandle=await o.getFileHandle(g,{create:!0});let S=await attachmentFileHandle.createWritable();await y.body.pipeTo(S)})}delete t._links}return t});})();
